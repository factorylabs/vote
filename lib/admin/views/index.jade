extend ../../views/layout

block footer
  != js('admin')

block content
  h3.factoryize Admin
  if contests.length == 0
    p: small No contests
  else
    table.table.table-striped
      thead
        tr
          th Contest
          th Status
          th Categories
          th Entries
          th
      tbody
        for contest in contests
          tr
            td: a(href="/admin/contests/#{contest.id}")= contest.name
            td= contest.open ? 'Open' : 'Closed'
            td= contest.categories.length
            td ?
            td
              form.delete-entity(method='post', action="/admin/contests/#{contest.id}/")
                input(type='hidden', name='_method', value='delete')
                input.btn(type='submit', value='Delete')

  hr

  h4 Create New Contest
  form.form-inline(action='/admin/contests', method='POST')
    input(type='text', name='name', placeholder='Name')
    input.btn(type='submit', value='Create')
